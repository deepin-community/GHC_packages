--- a/aeson.cabal
+++ b/aeson.cabal
@@ -74,6 +74,10 @@
   description: build TH bits
   default: True
 
+flag threaded
+  description: build threaded
+  default: True
+
 library
   default-language: Haskell2010
 
@@ -156,6 +160,10 @@
   include-dirs: include
   c-sources:  cbits/unescape_string.c
 
+  if flag(threaded)
+    ghc-options: -threaded
+
+
 test-suite tests
   default-language: Haskell2010
   type:           exitcode-stdio-1.0
