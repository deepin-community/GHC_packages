Description: Don't link the test program (to discover if we have LLVM
 installed) with LLVMSystem. It doesn't exist at least on LLVM 2.9.
Forwarded: https://github.com/bos/llvm/issues/24
Author: Iain Lane <laney@debian.org>

--- haskell-llvm-base-3.0.0.0.orig/configure.ac
+++ haskell-llvm-base-3.0.0.0/configure.ac
@@ -108,7 +108,7 @@ AC_CHECK_HEADERS([llvm/Support/DynamicLi
 #endif])

 save_LIBS="$LIBS"
-LIBS="-lLLVMSupport -lLLVMSystem -lpthread -ldl $LIBS"
+LIBS="-lLLVMSupport -lpthread -ldl $LIBS"

 AC_CHECK_LIB(LLVMCore, LLVMModuleCreateWithName, [], [])
 if test "$ac_cv_lib_LLVMCore_LLVMModuleCreateWithName" = "no"; then
--- haskell-llvm-base-3.0.0.0.orig/configure
+++ haskell-llvm-base-3.0.0.0/configure
@@ -3105,7 +3105,7 @@ done


 save_LIBS="$LIBS"
-LIBS="-lLLVMSupport -lLLVMSystem -lpthread -ldl $LIBS"
+LIBS="-lLLVMSupport -lpthread -ldl $LIBS"

 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for LLVMModuleCreateWithName in -lLLVMCore" >&5
 $as_echo_n "checking for LLVMModuleCreateWithName in -lLLVMCore... " >&6; }
